"use strict";(self.webpackChunkquiz_app=self.webpackChunkquiz_app||[]).push([[555],{9555:(e,n,t)=>{t.r(n),t.d(n,{default:()=>ne});var i=t(1652),l=t(7578),o=t(6113),r=t(9453),a=t(4607),s=t(1844),d=t(5724),c=t(8279),u=t(2092),h=t(6443),p=t(8372);const m=[...Array(24)].map(((e,n)=>({id:p.Jb.string.uuid(),avatarUrl:`/assets/images/avatars/avatar_${n+1}.jpg`,name:p.Jb.person.fullName(),company:p.Jb.company.name(),isVerified:p.Jb.datatype.boolean(),status:(0,h.sample)(["active","banned"]),role:(0,h.sample)(["Leader","Hr Manager","UI Designer","UX Designer","UI/UX Designer","Project Manager","Backend Developer","Full Stack Designer","Front End Developer","Full Stack Developer"])})));var x=t(9815),v=t(5258),g=t(192),j=t(6266),f=t(8873),A=t(2882);function b(e){let{query:n}=e;return(0,A.jsx)(g.A,{children:(0,A.jsx)(j.A,{align:"center",colSpan:6,sx:{py:3},children:(0,A.jsxs)(v.A,{sx:{textAlign:"center"},children:[(0,A.jsx)(f.A,{variant:"h6",paragraph:!0,children:"Not found"}),(0,A.jsxs)(f.A,{variant:"body2",children:["No results found for \xa0",(0,A.jsxs)("strong",{children:['"',n,'"']}),".",(0,A.jsx)("br",{})," Try checking for typos or using complete words."]})]})})})}var y=t(8303),k=t(4332),w=t(59),S=t(6279),C=t(4378),N=t(4716);(0,C.Ay)(S.A)((e=>{let{theme:n,ownerState:t}=e;const i="light"===n.palette.mode,l="filled"===t.variant,o="outlined"===t.variant,r="soft"===t.variant,a={..."default"===t.color&&{...l&&{color:i?n.palette.common.white:n.palette.grey[800],backgroundColor:n.palette.text.primary},...o&&{backgroundColor:"transparent",color:n.palette.text.primary,border:`2px solid ${n.palette.text.primary}`},...r&&{color:n.palette.text.secondary,backgroundColor:(0,N.X4)(n.palette.grey[500],.16)}}},s={..."default"!==t.color&&{...l&&{color:n.palette[t.color].contrastText,backgroundColor:n.palette[t.color].main},...o&&{backgroundColor:"transparent",color:n.palette[t.color].main,border:`2px solid ${n.palette[t.color].main}`},...r&&{color:n.palette[t.color][i?"dark":"light"],backgroundColor:(0,N.X4)(n.palette[t.color].main,.16)}}};return{height:24,minWidth:24,lineHeight:0,borderRadius:6,cursor:"default",alignItems:"center",whiteSpace:"nowrap",display:"inline-flex",justifyContent:"center",textTransform:"capitalize",padding:n.spacing(0,.75),fontSize:n.typography.pxToRem(12),fontWeight:n.typography.fontWeightBold,transition:n.transitions.create("all",{duration:n.transitions.duration.shorter}),...a,...s}}));var D=t(2521),R=t(3471),F=t(6688),T=t(8660),O=t(4197);const $=e=>{let{result:n,grade:t,user:i,name:o,phone:r,email:a,age:s,experience:d}=e;const[c,u]=(0,l.useState)(!1);return(0,A.jsxs)("div",{children:[(0,A.jsx)(F.A,{variant:"outlined",onClick:()=>u(!0),children:"Details"}),(0,A.jsx)(T.A,{open:c,onClose:()=>u(!1),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,A.jsxs)(S.A,{sx:z,children:[(0,A.jsx)(f.A,{id:"modal-modal-title",variant:"h6",component:"h1",children:o}),(0,A.jsx)(O.A,{sx:{borderColor:"unset",borderWidth:"opx",padding:"1px",backgroundColor:"#686D76",marginBottom:"10px"},orientation:"vertical",flexItem:!0}),(0,A.jsxs)(f.A,{component:"h4",children:[(0,A.jsx)("strong",{children:"email"})," : ",a]}),(0,A.jsxs)(f.A,{component:"h4",children:[(0,A.jsx)("strong",{children:"phone"})," : ",r]}),(0,A.jsxs)(f.A,{component:"h4",children:[(0,A.jsx)("strong",{children:"phone"})," : ",r]}),(0,A.jsxs)(f.A,{component:"h4",children:[(0,A.jsx)("strong",{children:"age"})," : ",s]}),(0,A.jsxs)(f.A,{component:"h4",children:[(0,A.jsx)("strong",{children:"Exam"})," :",null===n||void 0===n?void 0:n.levelName]}),(0,A.jsxs)(f.A,{component:"h4",children:[(0,A.jsx)("strong",{children:"Grade"})," : ",(+t).toFixed(2)," / 100"]}),(0,A.jsxs)(f.A,{component:"h4",children:[(0,A.jsx)("strong",{children:"Time taken"})," :"," ",E(((null===n||void 0===n?void 0:n.timeTaken)/1e3).toFixed(0),null===n||void 0===n?void 0:n.fullTime)]}),(null===i||void 0===i?void 0:i.academicSpecialization)&&(0,A.jsxs)(f.A,{component:"h4",children:[(0,A.jsx)("strong",{children:"Academic Specialization"})," :"," ",null===i||void 0===i?void 0:i.academicSpecialization]}),(null===i||void 0===i?void 0:i.countryOfResidence)&&(0,A.jsxs)(f.A,{component:"h4",children:[(0,A.jsx)("strong",{children:"Country Of Residence"})," : ",null===i||void 0===i?void 0:i.countryOfResidence]}),(null===i||void 0===i?void 0:i.gender)&&(0,A.jsxs)(f.A,{component:"h4",children:[(0,A.jsx)("strong",{children:"gender"})," : ",null===i||void 0===i?void 0:i.gender]}),(null===i||void 0===i?void 0:i.nationality)&&(0,A.jsxs)(f.A,{component:"h4",children:[(0,A.jsx)("strong",{children:"nationality"})," : ",null===i||void 0===i?void 0:i.nationality]}),(0,A.jsxs)(f.A,{component:"h4",children:[(0,A.jsx)("strong",{children:"experience"})," : ",d]}),((null===i||void 0===i?void 0:i.relatedExperience)||0==(null===i||void 0===i?void 0:i.relatedExperience))&&(0,A.jsxs)(f.A,{component:"h4",children:[(0,A.jsx)("strong",{children:"Related Experience"})," : ",null===i||void 0===i?void 0:i.relatedExperience]}),(0,A.jsx)(f.A,{id:"modal-modal-description",className:"     text-sm   ",sx:{mt:2}})]})})]})},z={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4,display:"flex",gap:2,flexDirection:"column",borderRadius:2,maxHeight:"90vh",overflowY:"scroll",overflowX:"hidden",msOverflowStyle:"none",scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"}};function E(e,n){var t=+e;let i=+n;if(("number"!==typeof t||t<0)&&"number"!==typeof i)return"Invalid input";("number"!==typeof t||t<0||isNaN(t))&&"number"==typeof i&&(t=i);return`${Math.floor(t/3600)}h ${Math.floor(t%3600/60)}m ${t%60}s`}function I(e){let{selected:n,name:t,email:i,phone:r,date:a,result:s,grade:d,exam:c,id:u,handleClick:h,age:p,experience:m,education:x,user:v}=e;const f=(0,o.wA)(),[b,S]=(0,l.useState)(null),C=()=>{S(null)};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(g.A,{hover:!0,tabIndex:-1,role:"checkbox",selected:n,children:[(0,A.jsx)(j.A,{align:"center",children:t}),(0,A.jsx)(j.A,{align:"center",children:null===s||void 0===s?void 0:s.levelName}),(0,A.jsx)(j.A,{align:"center",children:(+d).toFixed(2)}),(0,A.jsx)(j.A,{align:"center",children:a}),(0,A.jsx)(j.A,{align:"center",children:x}),(0,A.jsx)(j.A,{align:"center",children:(0,A.jsx)($,{id:u,phone:r,user:v,result:s,grade:d,email:i,age:p,experience:m,name:t})}),(0,A.jsx)(j.A,{align:"right",children:(0,A.jsx)(w.A,{onClick:e=>{S(e.currentTarget)},children:(0,A.jsx)(D.A,{icon:"eva:more-vertical-fill"})})})]}),(0,A.jsx)(y.Ay,{open:!!b,anchorEl:b,onClose:C,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{sx:{width:140}},children:(0,A.jsx)(k.A,{onClick:C,sx:{color:"error.main"},children:(0,A.jsx)("button",{className:"w-full flex items-center   leading-7",onClick:()=>{f((0,R.hG)(u))},children:(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(D.A,{icon:"eva:trash-2-outline",sx:{mr:2}}),"Delete"]})})})})]})}var P=t(3217),W=t(9878);const M={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"};function _(e,n,t){return e?Math.max(0,(1+e)*n-t):0}function L(e){let{order:n,orderBy:t,rowCount:i,headLabel:l,numSelected:o,onRequestSort:r,onSelectAllClick:a}=e;return(0,A.jsx)(P.A,{children:(0,A.jsx)(g.A,{children:l.map((e=>(0,A.jsx)(j.A,{align:e.align||"center",sortDirection:t===e.id&&n,sx:{width:e.width,minWidth:e.minWidth},children:(0,A.jsxs)(W.A,{hideSortIcon:!0,active:t===e.id,direction:t===e.id?n:"asc",onClick:()=>{r(e.id)},children:[e.label,t===e.id?(0,A.jsx)(S.A,{sx:{...M},children:"desc"===n?"sorted descending":"sorted ascending"}):null]})},e.id)))})})}function U(e){let{emptyRows:n,height:t}=e;return n?(0,A.jsx)(g.A,{sx:{...t&&{height:t*n}},children:(0,A.jsx)(j.A,{colSpan:9})}):null}var q=t(5691),B=t(8419),Q=t(6988),X=t(1759);function J(e,n){var t=+e;let i=+n;if(("number"!==typeof t||t<0)&&"number"!==typeof i)return"Invalid input";("number"!==typeof t||t<0||isNaN(t))&&"number"==typeof i&&(t=i,console.log(t,i));return`${Math.floor(t/3600)}h ${Math.floor(t%3600/60)}m ${t%60}s`}var G=t(9304);const H=e=>{const n=G.Wp.json_to_sheet(e),t=G.Wp.book_new(e);G.Wp.book_append_sheet(t,n,"test"),G.M9(t,{bookType:"xlsx",type:"buffer"}),G.M9(t,{bookType:"xlsx",type:"binary"}),G._h(t,"report.xlsx")};function Z(e){let{numSelected:n,filterName:t,onFilterName:i}=e;const{users:r}=(0,o.d4)((e=>e.user)),[a,s]=(0,l.useState)();return(0,A.jsxs)(B.A,{sx:{height:96,display:"flex",justifyContent:"space-between",p:e=>e.spacing(0,1,0,3),...n>0&&{color:"primary.main",bgcolor:"primary.lighter"}},children:[n>0?(0,A.jsxs)(f.A,{component:"div",variant:"subtitle1",children:[n," selected"]}):(0,A.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,A.jsx)(X.A,{value:a,onChange:e=>{s(e.target.value)},placeholder:"Search user..."}),(0,A.jsx)(F.A,{onClick:()=>{i(a)},variant:"outlined",children:"Submit"})]}),n>0?(0,A.jsx)(q.A,{title:"Delete",children:(0,A.jsx)(w.A,{})}):(0,A.jsx)(q.A,{title:"Filter list",children:(0,A.jsx)(w.A,{})}),(0,A.jsx)(F.A,{onClick:()=>{H(r.map((e=>{var n,t,i,l,o,r;return{name:null===e||void 0===e?void 0:e.name,email:null===e||void 0===e?void 0:e.email,phone:null===e||void 0===e?void 0:e.phone,age:null===e||void 0===e?void 0:e.age,experience:null===e||void 0===e?void 0:e.experience,education:null===e||void 0===e?void 0:e.education,date:(r=null===e||void 0===e?void 0:e.createdAt,new Date(r).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:"Asia/Riyadh"})),exam:null===e||void 0===e||null===(n=e.result)||void 0===n?void 0:n.levelName,grade:`${(100*+e.result.correctAnswers/e.result.totalQuestions).toFixed(2)}/100`,timeTaken:J(((null===e||void 0===e||null===(t=e.result)||void 0===t?void 0:t.timeTaken)/1e3).toFixed(0),null===e||void 0===e||null===(i=e.result)||void 0===i?void 0:i.fullTime),correctAnswers:null===e||void 0===e||null===(l=e.result)||void 0===l?void 0:l.correctAnswers,totalQuestions:null===e||void 0===e||null===(o=e.result)||void 0===o?void 0:o.totalQuestions,academicSpecialization:null===e||void 0===e?void 0:e.academicSpecialization,countryOfResidence:null===e||void 0===e?void 0:e.countryOfResidence,gender:null===e||void 0===e?void 0:e.gender,nationality:null===e||void 0===e?void 0:e.nationality,relatedExperience:null===e||void 0===e?void 0:e.relatedExperience}})))},variant:"contained",startIcon:(0,A.jsx)(Q.A,{}),children:"Download"})]})}var V=t(3612);const Y={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZone:"Asia/Riyadh"},K=e=>new Date(e).toLocaleDateString("en-US",Y);function ee(){const{users:e,isLoading:n}=(0,o.d4)((e=>e.user)),[t,i]=(0,l.useState)(0),[h,p]=(0,l.useState)("asc"),[v,g]=(0,l.useState)([]),[j,f]=(0,l.useState)(""),[y,k]=(0,l.useState)(""),[w,S]=(0,l.useState)(100),C=(0,l.useMemo)((()=>Array.isArray(e)?e.map((e=>{var n,t,i,l,o;return{...e,id:null===e||void 0===e?void 0:e._id,grade:(null===e||void 0===e||null===(n=e.result)||void 0===n?void 0:n.correctAnswers)/(null===e||void 0===e||null===(t=e.result)||void 0===t?void 0:t.totalQuestions)*100,exam:null===e||void 0===e||null===(i=e.result)||void 0===i?void 0:i.levelName,date:K(e.createdAt),status:(null===e||void 0===e||null===(l=e.result)||void 0===l?void 0:l.correctAnswers)/(null===e||void 0===e||null===(o=e.result)||void 0===o?void 0:o.totalQuestions)>.5?"Passed":"Failed"}})).sort(((e,n)=>{var t,i,l,o;if(!h)return e+n;if("date"==j&&null!==e&&void 0!==e&&e.createdAt&&null!==n&&void 0!==n&&n.createdAt){if("asc"==h)return new Date(e.createdAt)-new Date(n.createdAt);if("desc"==h)return new Date(n.createdAt)-new Date(e.createdAt)}const r=e[j]&&null!==(t=`${e[j]}`)&&void 0!==t&&t.includes("+")?null===(i=e[j])||void 0===i?void 0:i.slice(1):e[j],a=n[j]&&null!==(l=`${n[j]}`)&&void 0!==l&&l.includes("+")?null===(o=n[j])||void 0===o?void 0:o.slice(1):n[j];return"number"!==typeof+r||"number"!==typeof+a||isNaN(+r)||isNaN(+a)?"asc"===h?r<a?-1:1:r>a?-1:1:"asc"===h?r-a:a-r})):[]),[e,h,j]),N=(0,l.useCallback)((e=>{console.log({order:h,orderBy:j});e&&(p(j===e&&"asc"===h?"desc":"asc"),f(e))}),[h,j]),D=(0,l.useCallback)((e=>{if(e.target.checked){const e=m.map((e=>e.name));g(e)}else g([])}),[m]),R=(0,l.useCallback)(((e,n)=>{const t=v.indexOf(n);let i=[];-1===t?i=i.concat(v,n):0===t?i=i.concat(v.slice(1)):t===v.length-1?i=i.concat(v.slice(0,-1)):t>0&&(i=i.concat(v.slice(0,t),v.slice(t+1))),g(i)}),[v]),F=(0,l.useCallback)(((e,n)=>{i(n)}),[]),T=(0,l.useCallback)((e=>{i(0),S(parseInt(e.target.value,10))}),[]),O=(0,l.useCallback)((e=>{i(0),k(e)}),[]),$=function(e){let{inputData:n,comparator:t,filterName:i}=e;const l=n.map(((e,n)=>[e,n]));return n=l.map((e=>e[0])),i&&(n=n.filter((e=>Object.keys(e).some((n=>String(e[n]).toLowerCase().includes(i.toLowerCase())))))),n}({inputData:C,comparator:[],filterName:y}),z=!$.length&&!!y;return n?(0,A.jsx)(V.A,{className:"h-full"}):(0,A.jsx)(s.A,{children:(0,A.jsxs)(r.A,{children:[(0,A.jsx)(Z,{numSelected:v.length,filterName:y,onFilterName:O}),(0,A.jsx)(x.A,{children:(0,A.jsx)(c.A,{sx:{overflow:"unset"},children:(0,A.jsxs)(a.A,{sx:{minWidth:800},children:[(0,A.jsx)(L,{order:h,orderBy:j,rowCount:m.length,numSelected:v.length,onRequestSort:N,onSelectAllClick:D,headLabel:[{id:"name",label:"Name"},{id:"exam",label:"Exam"},{id:"grade",label:"Grade"},{id:"date",label:"Date"},{id:"education",label:"Education"},{id:"result",label:"Result"},{id:""}]}),(0,A.jsxs)(d.A,{children:[$.slice(t*w,t*w+w).map((e=>(0,A.jsx)(I,{user:e,id:null===e||void 0===e?void 0:e.id,name:e.name,email:e.email,phone:e.phone,grade:e.grade,exam:e.exam,age:e.age,education:e.education,experience:e.experience,date:e.date,result:e.result,status:e.status,selected:-1!==v.indexOf(e.name),handleClick:n=>R(n,e.name)},e.id))),(0,A.jsx)(U,{height:77,emptyRows:_(t,w,m.length)}),z&&(0,A.jsx)(b,{query:y})]})]})})}),(0,A.jsx)(u.A,{page:t,component:"div",count:$.length,rowsPerPage:w,onPageChange:F,rowsPerPageOptions:[5,10,25,50,100,200,400,800,1600,3200],onRowsPerPageChange:T})]})})}function ne(){return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(i.mg,{children:(0,A.jsx)("title",{children:" Users "})}),(0,A.jsx)(ee,{})]})}}}]);
//# sourceMappingURL=555.d7bd9d11.chunk.js.map