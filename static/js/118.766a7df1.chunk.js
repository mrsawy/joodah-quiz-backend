"use strict";(self.webpackChunkquiz_app=self.webpackChunkquiz_app||[]).push([[118],{2118:(e,n,t)=>{t.r(n),t.d(n,{default:()=>te});var i=t(6907),l=t(2791),o=t(4420),r=t(7621),a=t(9836),d=t(9164),s=t(3382),c=t(9281),u=t(6812),m=t(763),p=t(4426);const h=[...Array(24)].map(((e,n)=>({id:p.We.string.uuid(),avatarUrl:"/assets/images/avatars/avatar_".concat(n+1,".jpg"),name:p.We.person.fullName(),company:p.We.company.name(),isVerified:p.We.datatype.boolean(),status:(0,m.sample)(["active","banned"]),role:(0,m.sample)(["Leader","Hr Manager","UI Designer","UX Designer","UI/UX Designer","Project Manager","Backend Developer","Full Stack Designer","Front End Developer","Full Stack Developer"])})));var x=t(261),v=t(5527),g=t(5855),f=t(3994),j=t(890),y=t(184);function Z(e){let{query:n}=e;return(0,y.jsx)(g.Z,{children:(0,y.jsx)(f.Z,{align:"center",colSpan:6,sx:{py:3},children:(0,y.jsxs)(v.Z,{sx:{textAlign:"center"},children:[(0,y.jsx)(j.Z,{variant:"h6",paragraph:!0,children:"Not found"}),(0,y.jsxs)(j.Z,{variant:"body2",children:["No results found for \xa0",(0,y.jsxs)("strong",{children:['"',n,'"']}),".",(0,y.jsx)("br",{})," Try checking for typos or using complete words."]})]})})})}var b=t(5473),k=t(9891),w=t(3400),S=t(6029),C=t(4294),N=t(8184),A=t(6934),D=t(2065);(0,A.ZP)(S.Z)((e=>{let{theme:n,ownerState:t}=e;const i="light"===n.palette.mode,l="filled"===t.variant,o="outlined"===t.variant,r="soft"===t.variant,a={..."default"===t.color&&{...l&&{color:i?n.palette.common.white:n.palette.grey[800],backgroundColor:n.palette.text.primary},...o&&{backgroundColor:"transparent",color:n.palette.text.primary,border:"2px solid ".concat(n.palette.text.primary)},...r&&{color:n.palette.text.secondary,backgroundColor:(0,D.Fq)(n.palette.grey[500],.16)}}},d={..."default"!==t.color&&{...l&&{color:n.palette[t.color].contrastText,backgroundColor:n.palette[t.color].main},...o&&{backgroundColor:"transparent",color:n.palette[t.color].main,border:"2px solid ".concat(n.palette[t.color].main)},...r&&{color:n.palette[t.color][i?"dark":"light"],backgroundColor:(0,D.Fq)(n.palette[t.color].main,.16)}}};return{height:24,minWidth:24,lineHeight:0,borderRadius:6,cursor:"default",alignItems:"center",whiteSpace:"nowrap",display:"inline-flex",justifyContent:"center",textTransform:"capitalize",padding:n.spacing(0,.75),fontSize:n.typography.pxToRem(12),fontWeight:n.typography.fontWeightBold,transition:n.transitions.create("all",{duration:n.transitions.duration.shorter}),...a,...d}}));var P=t(1031),F=t(832);function R(e){let{selected:n,name:t,email:i,phone:r,date:a,result:d,grade:s,exam:c,id:u,handleClick:m,age:p,experience:h,education:x,user:v}=e;const j=(0,o.I0)(),[Z,S]=(0,l.useState)(null),C=()=>{S(null)};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(g.Z,{hover:!0,tabIndex:-1,role:"checkbox",selected:n,children:[(0,y.jsx)(f.Z,{align:"center",children:t}),(0,y.jsx)(f.Z,{align:"center",children:i}),(0,y.jsx)(f.Z,{align:"center",children:r}),(0,y.jsx)(f.Z,{align:"center",children:p}),(0,y.jsx)(f.Z,{align:"center",children:x}),(0,y.jsx)(f.Z,{align:"center",children:h}),(0,y.jsx)(f.Z,{align:"center",children:(0,y.jsx)(T,{user:v,result:d,grade:s,date:a})}),(0,y.jsx)(f.Z,{align:"right",children:(0,y.jsx)(w.Z,{onClick:e=>{S(e.currentTarget)},children:(0,y.jsx)(P.Z,{icon:"eva:more-vertical-fill"})})})]}),(0,y.jsx)(b.ZP,{open:!!Z,anchorEl:Z,onClose:C,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{sx:{width:140}},children:(0,y.jsx)(k.Z,{onClick:C,sx:{color:"error.main"},children:(0,y.jsx)("button",{className:"w-full flex items-center   leading-7",onClick:()=>{console.log("delete clicked",u),j((0,F.h8)(u))},children:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(P.Z,{icon:"eva:trash-2-outline",sx:{mr:2}}),"Delete"]})})})})]})}const E={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function T(e){let{result:n,grade:t,date:i,user:o}=e;const[r,a]=(0,l.useState)(!1);return(0,y.jsxs)("div",{children:[(0,y.jsx)(C.Z,{variant:"outlined",onClick:()=>a(!0),children:"Result"}),(0,y.jsx)(N.Z,{open:r,onClose:()=>a(!1),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,y.jsxs)(S.Z,{sx:E,children:[(0,y.jsx)(j.Z,{id:"modal-modal-title",variant:"h6",component:"h2",children:null===n||void 0===n?void 0:n.levelName}),(0,y.jsxs)(j.Z,{id:"modal-modal-description",sx:{mt:2},children:["Grade : ",(+t).toFixed(2)," / 100"]}),(0,y.jsxs)(j.Z,{id:"modal-modal-description",sx:{mt:2},children:["Time taken : ",W(((null===n||void 0===n?void 0:n.timeTaken)/1e3).toFixed(0),null===n||void 0===n?void 0:n.fullTime)]}),(0,y.jsxs)(j.Z,{id:"modal-modal-description",sx:{mt:2},children:["Date : ",i]}),(null===o||void 0===o?void 0:o.academicSpecialization)&&(0,y.jsxs)(j.Z,{id:"modal-modal-description",sx:{mt:2},children:["academicSpecialization : ",null===o||void 0===o?void 0:o.academicSpecialization]}),(null===o||void 0===o?void 0:o.countryOfResidence)&&(0,y.jsxs)(j.Z,{id:"modal-modal-description",sx:{mt:2},children:["countryOfResidence : ",null===o||void 0===o?void 0:o.countryOfResidence]}),(null===o||void 0===o?void 0:o.gender)&&(0,y.jsxs)(j.Z,{id:"modal-modal-description",sx:{mt:2},children:["gender : ",null===o||void 0===o?void 0:o.gender]}),(null===o||void 0===o?void 0:o.nationality)&&(0,y.jsxs)(j.Z,{id:"modal-modal-description",sx:{mt:2},children:["nationality : ",null===o||void 0===o?void 0:o.nationality]}),(null===o||void 0===o?void 0:o.relatedExperience)||0==(null===o||void 0===o?void 0:o.relatedExperience)&&(0,y.jsxs)(j.Z,{id:"modal-modal-description",sx:{mt:2},children:["relatedExperience : ",null===o||void 0===o?void 0:o.relatedExperience]}),(0,y.jsx)(j.Z,{id:"modal-modal-description",className:"     text-sm   ",sx:{mt:2}})]})})]})}function W(e,n){var t=+e;let i=+n;if(("number"!==typeof t||t<0)&&"number"!==typeof i)return"Invalid input";("number"!==typeof t||t<0||isNaN(t))&&"number"==typeof i&&(t=i,console.log(t,i));const l=Math.floor(t/3600),o=Math.floor(t%3600/60),r=t%60;return"".concat(l,"h ").concat(o,"m ").concat(r,"s")}var z=t(6890),O=t(720);const I={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"};function q(e,n,t){return e?Math.max(0,(1+e)*n-t):0}function _(e,n,t){return null===e[t]?1:null===n[t]||n[t]<e[t]?-1:n[t]>e[t]?1:0}function L(e,n){return"asc"===e?(e,t)=>_(e,t,n):(e,t)=>-_(e,t,n)}function U(e){let{order:n,orderBy:t,rowCount:i,headLabel:l,numSelected:o,onRequestSort:r,onSelectAllClick:a}=e;return(0,y.jsx)(z.Z,{children:(0,y.jsx)(g.Z,{children:l.map((e=>{return(0,y.jsx)(f.Z,{align:e.align||"center",sortDirection:t===e.id&&n,sx:{width:e.width,minWidth:e.minWidth},children:(0,y.jsxs)(O.Z,{hideSortIcon:!0,active:t===e.id,direction:t===e.id?n:"asc",onClick:(i=e.id,e=>{r(e,i)}),children:[e.label,t===e.id?(0,y.jsx)(S.Z,{sx:{...I},children:"desc"===n?"sorted descending":"sorted ascending"}):null]})},e.id);var i}))})})}function M(e){let{emptyRows:n,height:t}=e;return n?(0,y.jsx)(g.Z,{sx:{...t&&{height:t*n}},children:(0,y.jsx)(f.Z,{colSpan:9})}):null}var Q=t(5181),B=t(4663),H=t(3518),X=t(9218);function G(e,n){var t=+e;let i=+n;if(("number"!==typeof t||t<0)&&"number"!==typeof i)return"Invalid input";("number"!==typeof t||t<0||isNaN(t))&&"number"==typeof i&&(t=i,console.log(t,i));const l=Math.floor(t/3600),o=Math.floor(t%3600/60),r=t%60;return"".concat(l,"h ").concat(o,"m ").concat(r,"s")}var V=t(4045);const J=e=>{const n=V.P6.json_to_sheet(e),t=V.P6.book_new(e);V.P6.book_append_sheet(t,n,"test"),V.cW(t,{bookType:"xlsx",type:"buffer"}),V.cW(t,{bookType:"xlsx",type:"binary"}),V.NC(t,"report.xlsx")};function K(e){let{numSelected:n,filterName:t,onFilterName:i}=e;const{users:l}=(0,o.v9)((e=>e.user));return(0,y.jsxs)(B.Z,{sx:{height:96,display:"flex",justifyContent:"space-between",p:e=>e.spacing(0,1,0,3),...n>0&&{color:"primary.main",bgcolor:"primary.lighter"}},children:[n>0?(0,y.jsxs)(j.Z,{component:"div",variant:"subtitle1",children:[n," selected"]}):(0,y.jsx)(X.Z,{value:t,onChange:i,placeholder:"Search user..."}),n>0?(0,y.jsx)(Q.Z,{title:"Delete",children:(0,y.jsx)(w.Z,{})}):(0,y.jsx)(Q.Z,{title:"Filter list",children:(0,y.jsx)(w.Z,{})}),(0,y.jsx)(C.Z,{onClick:()=>{J(l.map((e=>{var n,t,i,l,o,r;return{name:null===e||void 0===e?void 0:e.name,email:null===e||void 0===e?void 0:e.email,phone:null===e||void 0===e?void 0:e.phone,age:null===e||void 0===e?void 0:e.age,experience:null===e||void 0===e?void 0:e.experience,education:null===e||void 0===e?void 0:e.education,date:(r=null===e||void 0===e?void 0:e.createdAt,new Date(r).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:"Asia/Riyadh"})),exam:null===e||void 0===e||null===(n=e.result)||void 0===n?void 0:n.levelName,grade:"".concat((100*+e.result.correctAnswers/e.result.totalQuestions).toFixed(2),"/100"),timeTaken:G(((null===e||void 0===e||null===(t=e.result)||void 0===t?void 0:t.timeTaken)/1e3).toFixed(0),null===e||void 0===e||null===(i=e.result)||void 0===i?void 0:i.fullTime),correctAnswers:null===e||void 0===e||null===(l=e.result)||void 0===l?void 0:l.correctAnswers,totalQuestions:null===e||void 0===e||null===(o=e.result)||void 0===o?void 0:o.totalQuestions,academicSpecialization:null===e||void 0===e?void 0:e.academicSpecialization,countryOfResidence:null===e||void 0===e?void 0:e.countryOfResidence,gender:null===e||void 0===e?void 0:e.gender,nationality:null===e||void 0===e?void 0:e.nationality,relatedExperience:null===e||void 0===e?void 0:e.relatedExperience}})))},variant:"contained",startIcon:(0,y.jsx)(H.Z,{}),children:"Download"})]})}var Y=t(6264);const $={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZone:"Asia/Riyadh"},ee=e=>new Date(e).toLocaleDateString("en-US",$);function ne(){let{users:e,isLoading:n}=(0,o.v9)((e=>e.user)),t=Array.isArray(e)?e.map((e=>{var n,t,i,l,o;return{...e,id:null===e||void 0===e?void 0:e._id,grade:(null===e||void 0===e||null===(n=e.result)||void 0===n?void 0:n.correctAnswers)/(null===e||void 0===e||null===(t=e.result)||void 0===t?void 0:t.totalQuestions)*100,exam:null===e||void 0===e||null===(i=e.result)||void 0===i?void 0:i.levelName,date:ee(e.createdAt),status:(null===e||void 0===e||null===(l=e.result)||void 0===l?void 0:l.correctAnswers)/(null===e||void 0===e||null===(o=e.result)||void 0===o?void 0:o.totalQuestions)>.5?"Passed":"Failed"}})):[];const[i,m]=(0,l.useState)(0),[p,v]=(0,l.useState)("asc"),[g,f]=(0,l.useState)([]),[j,b]=(0,l.useState)("name"),[k,w]=(0,l.useState)(""),[S,C]=(0,l.useState)(10),N=function(e){let{inputData:n,comparator:t,filterName:i}=e;const l=n.map(((e,n)=>[e,n]));return n=l.map((e=>e[0])),i&&(n=n.filter((e=>-1!==e.name.toLowerCase().indexOf(i.toLowerCase())))),n}({inputData:t,comparator:L(p,j),filterName:k}),A=!N.length&&!!k;return n?(0,y.jsx)(Y.Z,{className:"h-full"}):(0,y.jsx)(d.Z,{children:(0,y.jsxs)(r.Z,{children:[(0,y.jsx)(K,{numSelected:g.length,filterName:k,onFilterName:e=>{m(0),w(e.target.value)}}),(0,y.jsx)(x.Z,{children:(0,y.jsx)(c.Z,{sx:{overflow:"unset"},children:(0,y.jsxs)(a.Z,{sx:{minWidth:800},children:[(0,y.jsx)(U,{order:p,orderBy:j,rowCount:h.length,numSelected:g.length,onRequestSort:(e,n)=>{""!==n&&(v(j===n&&"asc"===p?"desc":"asc"),b(n))},onSelectAllClick:e=>{if(e.target.checked){const e=h.map((e=>e.name));f(e)}else f([])},headLabel:[{id:"name",label:"Name"},{id:"email",label:"Email"},{id:"phone",label:"Phone"},{id:"Age",label:"Age"},{id:"Education",label:"Education"},{id:"Experience",label:"Experience"},{id:"result",label:"Result"},{id:""}]}),(0,y.jsxs)(s.Z,{children:[N.slice(i*S,i*S+S).map((e=>(0,y.jsx)(R,{user:e,id:null===e||void 0===e?void 0:e.id,name:e.name,email:e.email,phone:e.phone,grade:e.grade,exam:e.exam,age:e.age,education:e.education,experience:e.experience,date:e.date,result:e.result,status:e.status,selected:-1!==g.indexOf(e.name),handleClick:n=>((e,n)=>{const t=g.indexOf(n);let i=[];-1===t?i=i.concat(g,n):0===t?i=i.concat(g.slice(1)):t===g.length-1?i=i.concat(g.slice(0,-1)):t>0&&(i=i.concat(g.slice(0,t),g.slice(t+1))),f(i)})(0,e.name)},e.id))),(0,y.jsx)(M,{height:77,emptyRows:q(i,S,h.length)}),A&&(0,y.jsx)(Z,{query:k})]})]})})}),(0,y.jsx)(u.Z,{page:i,component:"div",count:N.length,rowsPerPage:S,onPageChange:(e,n)=>{m(n)},rowsPerPageOptions:[5,10,25,50,100,200],onRowsPerPageChange:e=>{m(0),C(parseInt(e.target.value,10))}})]})})}function te(){return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(i.ql,{children:(0,y.jsx)("title",{children:" Users "})}),(0,y.jsx)(ne,{})]})}}}]);
//# sourceMappingURL=118.766a7df1.chunk.js.map