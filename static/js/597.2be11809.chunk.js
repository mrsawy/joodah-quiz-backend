"use strict";(self.webpackChunkquiz_app=self.webpackChunkquiz_app||[]).push([[597],{8597:(e,n,i)=>{i.r(n),i.d(n,{default:()=>ne});var t=i(6907),l=i(2791),o=i(4420),r=i(7621),a=i(9836),d=i(9164),s=i(3382),c=i(9281),u=i(6812),m=i(763),x=i(4426);const h=[...Array(24)].map(((e,n)=>({id:x.We.string.uuid(),avatarUrl:"/assets/images/avatars/avatar_".concat(n+1,".jpg"),name:x.We.person.fullName(),company:x.We.company.name(),isVerified:x.We.datatype.boolean(),status:(0,m.sample)(["active","banned"]),role:(0,m.sample)(["Leader","Hr Manager","UI Designer","UX Designer","UI/UX Designer","Project Manager","Backend Developer","Full Stack Designer","Front End Developer","Full Stack Developer"])})));var p=i(261),v=i(5527),g=i(5855),j=i(3994),f=i(890),b=i(184);function y(e){let{query:n}=e;return(0,b.jsx)(g.Z,{children:(0,b.jsx)(j.Z,{align:"center",colSpan:6,sx:{py:3},children:(0,b.jsxs)(v.Z,{sx:{textAlign:"center"},children:[(0,b.jsx)(f.Z,{variant:"h6",paragraph:!0,children:"Not found"}),(0,b.jsxs)(f.Z,{variant:"body2",children:["No results found for \xa0",(0,b.jsxs)("strong",{children:['"',n,'"']}),".",(0,b.jsx)("br",{})," Try checking for typos or using complete words."]})]})})})}var Z=i(5473),k=i(4387),C=i(3400),S=i(6029),w=i(6934),N=i(2065);(0,w.ZP)(S.Z)((e=>{let{theme:n,ownerState:i}=e;const t="light"===n.palette.mode,l="filled"===i.variant,o="outlined"===i.variant,r="soft"===i.variant,a={..."default"===i.color&&{...l&&{color:t?n.palette.common.white:n.palette.grey[800],backgroundColor:n.palette.text.primary},...o&&{backgroundColor:"transparent",color:n.palette.text.primary,border:"2px solid ".concat(n.palette.text.primary)},...r&&{color:n.palette.text.secondary,backgroundColor:(0,N.Fq)(n.palette.grey[500],.16)}}},d={..."default"!==i.color&&{...l&&{color:n.palette[i.color].contrastText,backgroundColor:n.palette[i.color].main},...o&&{backgroundColor:"transparent",color:n.palette[i.color].main,border:"2px solid ".concat(n.palette[i.color].main)},...r&&{color:n.palette[i.color][t?"dark":"light"],backgroundColor:(0,N.Fq)(n.palette[i.color].main,.16)}}};return{height:24,minWidth:24,lineHeight:0,borderRadius:6,cursor:"default",alignItems:"center",whiteSpace:"nowrap",display:"inline-flex",justifyContent:"center",textTransform:"capitalize",padding:n.spacing(0,.75),fontSize:n.typography.pxToRem(12),fontWeight:n.typography.fontWeightBold,transition:n.transitions.create("all",{duration:n.transitions.duration.shorter}),...a,...d}}));var D=i(1031),F=i(832),A=i(4294),P=i(8184),R=i(4721);const T=e=>{let{result:n,grade:i,date:t,user:o,name:r,phone:a,email:d}=e;const[s,c]=(0,l.useState)(!1);return(0,b.jsxs)("div",{children:[(0,b.jsx)(A.Z,{variant:"outlined",onClick:()=>c(!0),children:"Details"}),(0,b.jsx)(P.Z,{open:s,onClose:()=>c(!1),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,b.jsxs)(S.Z,{sx:W,children:[(0,b.jsx)(f.Z,{id:"modal-modal-title",variant:"h6",component:"h1",children:r}),(0,b.jsx)(R.Z,{sx:{borderColor:"unset",borderWidth:"opx",padding:"1px",backgroundColor:"#686D76",marginBottom:"10px"},orientation:"vertical",flexItem:!0}),(0,b.jsxs)(f.Z,{component:"h4",children:[(0,b.jsx)("strong",{children:"email"})," : ",d]}),(0,b.jsxs)(f.Z,{component:"h4",children:[(0,b.jsx)("strong",{children:"phone"})," : ",a]}),(0,b.jsxs)(f.Z,{component:"h4",children:[(0,b.jsx)("strong",{children:"Exam"})," :",null===n||void 0===n?void 0:n.levelName]}),(0,b.jsxs)(f.Z,{id:"modal-modal-description",sx:{mt:2},children:[(0,b.jsx)("strong",{children:"Grade"})," : ",(+i).toFixed(2)," / 100"]}),(0,b.jsxs)(f.Z,{id:"modal-modal-description",sx:{mt:2},children:[(0,b.jsx)("strong",{children:"Time taken"})," :"," ",E(((null===n||void 0===n?void 0:n.timeTaken)/1e3).toFixed(0),null===n||void 0===n?void 0:n.fullTime)]}),(0,b.jsxs)(f.Z,{id:"modal-modal-description",sx:{mt:2},children:[(0,b.jsx)("strong",{children:"Date"})," : ",t]}),(null===o||void 0===o?void 0:o.academicSpecialization)&&(0,b.jsxs)(f.Z,{id:"modal-modal-description",sx:{mt:2},children:[(0,b.jsx)("strong",{children:"academicSpecialization"})," : ",null===o||void 0===o?void 0:o.academicSpecialization]}),(null===o||void 0===o?void 0:o.countryOfResidence)&&(0,b.jsxs)(f.Z,{id:"modal-modal-description",sx:{mt:2},children:[(0,b.jsx)("strong",{children:"countryOfResidence"})," : ",null===o||void 0===o?void 0:o.countryOfResidence]}),(null===o||void 0===o?void 0:o.gender)&&(0,b.jsxs)(f.Z,{id:"modal-modal-description",sx:{mt:2},children:[(0,b.jsx)("strong",{children:"gender"})," : ",null===o||void 0===o?void 0:o.gender]}),(null===o||void 0===o?void 0:o.nationality)&&(0,b.jsxs)(f.Z,{id:"modal-modal-description",sx:{mt:2},children:[(0,b.jsx)("strong",{children:"nationality"})," : ",null===o||void 0===o?void 0:o.nationality]}),((null===o||void 0===o?void 0:o.relatedExperience)||0==(null===o||void 0===o?void 0:o.relatedExperience))&&(0,b.jsxs)(f.Z,{id:"modal-modal-description",sx:{mt:2},children:[(0,b.jsx)("strong",{children:"relatedExperience"})," : ",null===o||void 0===o?void 0:o.relatedExperience]}),(0,b.jsx)(f.Z,{id:"modal-modal-description",className:"     text-sm   ",sx:{mt:2}})]})})]})},W={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4,display:"flex",gap:2,flexDirection:"column",borderRadius:2};function E(e,n){var i=+e;let t=+n;if(("number"!==typeof i||i<0)&&"number"!==typeof t)return"Invalid input";("number"!==typeof i||i<0||isNaN(i))&&"number"==typeof t&&(i=t,console.log(i,t));const l=Math.floor(i/3600),o=Math.floor(i%3600/60),r=i%60;return"".concat(l,"h ").concat(o,"m ").concat(r,"s")}function z(e){let{selected:n,name:i,email:t,phone:r,date:a,result:d,grade:s,exam:c,id:u,handleClick:m,age:x,experience:h,education:p,user:v}=e;const f=(0,o.I0)(),[y,S]=(0,l.useState)(null),w=()=>{S(null)};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(g.Z,{hover:!0,tabIndex:-1,role:"checkbox",selected:n,children:[(0,b.jsx)(j.Z,{align:"center",children:i}),(0,b.jsx)(j.Z,{align:"center",children:null===d||void 0===d?void 0:d.levelName}),(0,b.jsx)(j.Z,{align:"center",children:(+s).toFixed(2)}),(0,b.jsx)(j.Z,{align:"center",children:x}),(0,b.jsx)(j.Z,{align:"center",children:p}),(0,b.jsx)(j.Z,{align:"center",children:h}),(0,b.jsx)(j.Z,{align:"center",children:(0,b.jsx)(T,{id:u,phone:r,user:v,result:d,grade:s,date:a,email:t,name:i})}),(0,b.jsx)(j.Z,{align:"right",children:(0,b.jsx)(C.Z,{onClick:e=>{S(e.currentTarget)},children:(0,b.jsx)(D.Z,{icon:"eva:more-vertical-fill"})})})]}),(0,b.jsx)(Z.ZP,{open:!!y,anchorEl:y,onClose:w,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{sx:{width:140}},children:(0,b.jsx)(k.Z,{onClick:w,sx:{color:"error.main"},children:(0,b.jsx)("button",{className:"w-full flex items-center   leading-7",onClick:()=>{f((0,F.h8)(u))},children:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(D.Z,{icon:"eva:trash-2-outline",sx:{mr:2}}),"Delete"]})})})})]})}var I=i(6890),O=i(720);const q={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"};function _(e,n,i){return e?Math.max(0,(1+e)*n-i):0}function L(e){let{order:n,orderBy:i,rowCount:t,headLabel:l,numSelected:o,onRequestSort:r,onSelectAllClick:a}=e;return(0,b.jsx)(I.Z,{children:(0,b.jsx)(g.Z,{children:l.map((e=>(0,b.jsx)(j.Z,{align:e.align||"center",sortDirection:i===e.id&&n,sx:{width:e.width,minWidth:e.minWidth},children:(0,b.jsxs)(O.Z,{hideSortIcon:!0,active:i===e.id,direction:i===e.id?n:"asc",onClick:()=>{r(e.id)},children:[e.label,i===e.id?(0,b.jsx)(S.Z,{sx:{...q},children:"desc"===n?"sorted descending":"sorted ascending"}):null]})},e.id)))})})}function M(e){let{emptyRows:n,height:i}=e;return n?(0,b.jsx)(g.Z,{sx:{...i&&{height:i*n}},children:(0,b.jsx)(j.Z,{colSpan:9})}):null}var U=i(5181),B=i(4663),Q=i(3518),G=i(9218);function H(e,n){var i=+e;let t=+n;if(("number"!==typeof i||i<0)&&"number"!==typeof t)return"Invalid input";("number"!==typeof i||i<0||isNaN(i))&&"number"==typeof t&&(i=t,console.log(i,t));const l=Math.floor(i/3600),o=Math.floor(i%3600/60),r=i%60;return"".concat(l,"h ").concat(o,"m ").concat(r,"s")}var X=i(4045);const V=e=>{const n=X.P6.json_to_sheet(e),i=X.P6.book_new(e);X.P6.book_append_sheet(i,n,"test"),X.cW(i,{bookType:"xlsx",type:"buffer"}),X.cW(i,{bookType:"xlsx",type:"binary"}),X.NC(i,"report.xlsx")};function J(e){let{numSelected:n,filterName:i,onFilterName:t}=e;const{users:l}=(0,o.v9)((e=>e.user));return(0,b.jsxs)(B.Z,{sx:{height:96,display:"flex",justifyContent:"space-between",p:e=>e.spacing(0,1,0,3),...n>0&&{color:"primary.main",bgcolor:"primary.lighter"}},children:[n>0?(0,b.jsxs)(f.Z,{component:"div",variant:"subtitle1",children:[n," selected"]}):(0,b.jsx)(G.Z,{value:i,onChange:t,placeholder:"Search user..."}),n>0?(0,b.jsx)(U.Z,{title:"Delete",children:(0,b.jsx)(C.Z,{})}):(0,b.jsx)(U.Z,{title:"Filter list",children:(0,b.jsx)(C.Z,{})}),(0,b.jsx)(A.Z,{onClick:()=>{V(l.map((e=>{var n,i,t,l,o,r;return{name:null===e||void 0===e?void 0:e.name,email:null===e||void 0===e?void 0:e.email,phone:null===e||void 0===e?void 0:e.phone,age:null===e||void 0===e?void 0:e.age,experience:null===e||void 0===e?void 0:e.experience,education:null===e||void 0===e?void 0:e.education,date:(r=null===e||void 0===e?void 0:e.createdAt,new Date(r).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:"Asia/Riyadh"})),exam:null===e||void 0===e||null===(n=e.result)||void 0===n?void 0:n.levelName,grade:"".concat((100*+e.result.correctAnswers/e.result.totalQuestions).toFixed(2),"/100"),timeTaken:H(((null===e||void 0===e||null===(i=e.result)||void 0===i?void 0:i.timeTaken)/1e3).toFixed(0),null===e||void 0===e||null===(t=e.result)||void 0===t?void 0:t.fullTime),correctAnswers:null===e||void 0===e||null===(l=e.result)||void 0===l?void 0:l.correctAnswers,totalQuestions:null===e||void 0===e||null===(o=e.result)||void 0===o?void 0:o.totalQuestions,academicSpecialization:null===e||void 0===e?void 0:e.academicSpecialization,countryOfResidence:null===e||void 0===e?void 0:e.countryOfResidence,gender:null===e||void 0===e?void 0:e.gender,nationality:null===e||void 0===e?void 0:e.nationality,relatedExperience:null===e||void 0===e?void 0:e.relatedExperience}})))},variant:"contained",startIcon:(0,b.jsx)(Q.Z,{}),children:"Download"})]})}var K=i(6264);const Y={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZone:"Asia/Riyadh"},$=e=>new Date(e).toLocaleDateString("en-US",Y);function ee(){const{users:e,isLoading:n}=(0,o.v9)((e=>e.user)),[i,t]=(0,l.useState)(0),[x,v]=(0,l.useState)("asc"),[g,j]=(0,l.useState)([]),[f,Z]=(0,l.useState)(""),[k,C]=(0,l.useState)(""),[S,w]=(0,l.useState)(400),N=(0,l.useMemo)((()=>Array.isArray(e)?e.map((e=>{var n,i,t,l,o;return{...e,id:null===e||void 0===e?void 0:e._id,grade:(null===e||void 0===e||null===(n=e.result)||void 0===n?void 0:n.correctAnswers)/(null===e||void 0===e||null===(i=e.result)||void 0===i?void 0:i.totalQuestions)*100,exam:null===e||void 0===e||null===(t=e.result)||void 0===t?void 0:t.levelName,date:$(e.createdAt),status:(null===e||void 0===e||null===(l=e.result)||void 0===l?void 0:l.correctAnswers)/(null===e||void 0===e||null===(o=e.result)||void 0===o?void 0:o.totalQuestions)>.5?"Passed":"Failed"}})).sort(((e,n)=>{var i,t,l,o;if(!x)return e+n;const r=e[f]&&null!==(i="".concat(e[f]))&&void 0!==i&&i.includes("+")?null===(t=e[f])||void 0===t?void 0:t.slice(1):e[f],a=n[f]&&null!==(l="".concat(n[f]))&&void 0!==l&&l.includes("+")?null===(o=n[f])||void 0===o?void 0:o.slice(1):n[f];return"number"!==typeof+r||"number"!==typeof+a||isNaN(+r)||isNaN(+a)?"asc"===x?r<a?-1:1:r>a?-1:1:"asc"===x?r-a:a-r})):[]),[e,x,f]),D=(0,l.useCallback)((e=>{e&&(v(f===e&&"asc"===x?"desc":"asc"),Z(e))}),[x,f]),F=(0,l.useCallback)((e=>{if(e.target.checked){const e=h.map((e=>e.name));j(e)}else j([])}),[h]),A=(0,l.useCallback)(((e,n)=>{const i=g.indexOf(n);let t=[];-1===i?t=t.concat(g,n):0===i?t=t.concat(g.slice(1)):i===g.length-1?t=t.concat(g.slice(0,-1)):i>0&&(t=t.concat(g.slice(0,i),g.slice(i+1))),j(t)}),[g]),P=(0,l.useCallback)(((e,n)=>{t(n)}),[]),R=(0,l.useCallback)((e=>{t(0),w(parseInt(e.target.value,10))}),[]),T=(0,l.useCallback)((0,m.debounce)((e=>{t(0),C(e.target.value)}),300),[]),W=function(e){let{inputData:n,comparator:i,filterName:t}=e;const l=n.map(((e,n)=>[e,n]));return n=l.map((e=>e[0])),t&&(n=n.filter((e=>Object.keys(e).some((n=>String(e[n]).toLowerCase().includes(t.toLowerCase())))))),n}({inputData:N,comparator:[],filterName:k}),E=!W.length&&!!k;return n?(0,b.jsx)(K.Z,{className:"h-full"}):(0,b.jsx)(d.Z,{children:(0,b.jsxs)(r.Z,{children:[(0,b.jsx)(J,{numSelected:g.length,filterName:k,onFilterName:T}),(0,b.jsx)(p.Z,{children:(0,b.jsx)(c.Z,{sx:{overflow:"unset"},children:(0,b.jsxs)(a.Z,{sx:{minWidth:800},children:[(0,b.jsx)(L,{order:x,orderBy:f,rowCount:h.length,numSelected:g.length,onRequestSort:D,onSelectAllClick:F,headLabel:[{id:"name",label:"Name"},{id:"exam",label:"Exam"},{id:"grade",label:"Grade"},{id:"age",label:"Age"},{id:"education",label:"Education"},{id:"experience",label:"Experience"},{id:"result",label:"Result"},{id:""}]}),(0,b.jsxs)(s.Z,{children:[W.slice(i*S,i*S+S).map((e=>(0,b.jsx)(z,{user:e,id:null===e||void 0===e?void 0:e.id,name:e.name,email:e.email,phone:e.phone,grade:e.grade,exam:e.exam,age:e.age,education:e.education,experience:e.experience,date:e.date,result:e.result,status:e.status,selected:-1!==g.indexOf(e.name),handleClick:n=>A(n,e.name)},e.id))),(0,b.jsx)(M,{height:77,emptyRows:_(i,S,h.length)}),E&&(0,b.jsx)(y,{query:k})]})]})})}),(0,b.jsx)(u.Z,{page:i,component:"div",count:W.length,rowsPerPage:S,onPageChange:P,rowsPerPageOptions:[5,10,25,50,100,200,400,800,1600,3200],onRowsPerPageChange:R})]})})}function ne(){return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(t.ql,{children:(0,b.jsx)("title",{children:" Users "})}),(0,b.jsx)(ee,{})]})}}}]);
//# sourceMappingURL=597.2be11809.chunk.js.map